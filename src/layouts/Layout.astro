---
import BaseHead from '../components/BaseHead.astro';
import Footer from "../components/Footer.astro";
import Navbar from "../components/NavBar.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from '../config';

export interface Props {
  title?: string;
  desc?: string;
  ogimage?: string;
  class?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site).toString();
---

<!DOCTYPE html>
<html lang="en" class="light-theme">

  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION}/>
  </head>

  <body>
    <div class="cv-container">
      <Navbar />
      <slot/>
      <Footer />  
    </div>
  </body>
  
</html>

<script>

  //const elmt = document.querySelector("html");
  var theme = window.localStorage.getItem("theme")

  if (!theme) {
    window.localStorage.setItem('theme', 'light')
    theme = 'light'
  }

  console.log('theme at start:', theme);

  const elmt = document.querySelector("html");
  (theme == 'light')
    ? elmt.classList.replace('dark-theme', 'light-theme')
    : elmt.classList.replace('light-theme', 'dark-theme');

</script>